@using AdMegasoft.Web.Authentication
@inject NavigationManager _navigationManager

@code {
    [Inject]
    private AuthenticationStateProvider _authenticationStateProvider { get; set; }

    protected async override Task OnInitializedAsync()
    {
        var adMegasoftAuthenticationStateProvider = (AdMegasoftAuthenticationStateProvider) _authenticationStateProvider;
        var authenticationState = await adMegasoftAuthenticationStateProvider.GetAuthenticationStateAsync(); // Bad!
        var user = authenticationState.User;
        var authenticated = user.Identity?.IsAuthenticated ?? false;

        if (authenticated)
        {
            _navigationManager.NavigateTo("/content/dashboard");
        }
    }
}